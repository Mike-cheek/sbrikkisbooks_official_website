{"version":3,"file":"component---src-pages-king-jsx-e263448685d8260ee274.js","mappings":"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","sources":["webpack://sbrikkisbooks/./src/atoms/playersList/playersList.jsx","webpack://sbrikkisbooks/./src/atoms/playersList/playersList.module.scss","webpack://sbrikkisbooks/./src/components/choosePlayers/choosePlayers.jsx","webpack://sbrikkisbooks/./src/components/choosePlayers/choosePlayers.module.scss","webpack://sbrikkisbooks/./src/components/playerGame/playerGame.jsx","webpack://sbrikkisbooks/./src/components/playerGame/playerGame.module.scss","webpack://sbrikkisbooks/./src/components/play/play.jsx","webpack://sbrikkisbooks/./src/components/kingHero/kingHero.jsx","webpack://sbrikkisbooks/./src/components/kingHero/kingHero.module.scss","webpack://sbrikkisbooks/./src/pages/king.jsx","webpack://sbrikkisbooks/./src/styles/king.module.scss"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport * as styles from './playersList.module.scss'\n\nfunction PlayersList(props) {\n    let i;\n\n    let players = [];\n\n    const [visible, setVisible] = useState(false)\n\n    for(i=0; i<props.numPlayers; i++){\n        players.push(i);\n    }\n\n    useEffect( ()=>{\n        let myElement = document.getElementById('list');\n        let bounding = myElement.getBoundingClientRect();\n        if (bounding.top >= 0 && bounding.left >= 0 && bounding.right <= window.innerWidth && bounding.bottom <= window.innerHeight) {\n            setVisible(true);\n        } else {\n            setVisible(false);\n        }\n    }, []);\n\n    return(\n        <>\n            {\n                players.map((index) => {\n                    return(\n                        <div className={visible? styles.list : styles.hiddenList} id={\"list\"} key={index}>\n                            <input type=\"input\" id={\"player\"+index} placeholder=\"Name\" className={styles.playerInput} />\n                        </div>\n                    )\n                })\n            }\n\n            { \n                props.numPlayers > 0 ?\n                    <button onClick={props.onClick}>\n                        <h3>START!</h3>\n                    </button>\n                    :\n                    null\n            }\n        </>\n    );\n    \n\n    \n}\n\nexport default PlayersList\n","// extracted by mini-css-extract-plugin\nexport var list = \"playersList-module--list--tarmp\";\nexport var pop = \"playersList-module--pop--5u-Bg\";\nexport var hiddenList = \"playersList-module--hiddenList--ZXnSc\";\nexport var playerInput = \"playersList-module--playerInput--z5a6o\";","import React from 'react'\nimport PlayersList from '../../atoms/playersList/playersList'\nimport * as styles from './choosePlayers.module.scss'\n\nfunction ChoosePlayers(props) {\n    return (\n        <>\n            <div className={styles.players}>\n                <h2>How many players?</h2>\n                <div className={styles.countPlayers}>\n                    <button onClick={props.decreasePlayers}>\n                        <p>-</p>\n                    </button>\n                    <p>{props.numPlayers}</p>\n                    <button onClick={props.increasePlayers}>\n                        <p>+</p>\n                    </button>\n                </div>\n\n            </div>\n            <PlayersList numPlayers={props.numPlayers} onClick={props.getPlayers}/>\n        </>\n    )\n}\n\nexport default ChoosePlayers\n","// extracted by mini-css-extract-plugin\nexport var players = \"choosePlayers-module--players--hYuqk\";\nexport var countPlayers = \"choosePlayers-module--countPlayers--o3xT5\";\nexport var pop = \"choosePlayers-module--pop--vtltW\";","import React, { useState } from 'react'\nimport * as styles from './playerGame.module.scss'\n\nconst PlayerGame = (props) => {\n\n    let i;\n    \n    let array = [];\n\n    const [points, setPoints] = useState(0);\n\n    for(i = 1; i <= props.rounds; i++){\n        array.push(i);\n    }\n\n    const addPoints = (checked, idNum) => {\n        if(checked){\n            setPoints(points*1 + 10 + document.getElementById(idNum).value*1);\n            document.getElementById(idNum).disabled = true;\n        }\n        else{\n            setPoints(points*1 - 10 - document.getElementById(idNum).value*1);\n            document.getElementById(idNum).disabled = false;\n        }\n    }\n\n    const createRange = ((end) => {\n        let array = [];\n        for (let i = 0; i <= end; i++){\n            array.push(i);\n        }\n        return array;\n    });\n\n    const checkCheckbox = (id) => {\n        if(document.getElementById(id) == null)\n            return false;\n        return document.getElementById(id).checked;\n    }\n\n    return (\n        <>\n            <table className={styles.playerGame}>\n                <tbody>\n                    <tr>\n                        <td>\n                            <p className={styles.name}>\n                                <strong>{props.name}</strong> (Points: <strong>{points}</strong>)\n                            </p>\n                        </td>\n                    </tr>\n                        <tr>\n                        {\n                            array.map((elem,i) => {\n                                return(\n                                    <td className={styles.round}> \n                                        <h6>Round {elem}</h6>\n                                        <div className={styles.bet}>\n                                            <h5>Bet</h5>\n                                            {i === props.currentRound-1 && !checkCheckbox(\"check\" + props.name + elem)?\n                                                <select\n                                                    id={\"num\" + props.name + elem} \n                                                    placeholder=\"0\"\n                                                >\n                                                    {\n                                                        createRange(elem).map((index) => {\n                                                            return(\n                                                                <option \n                                                                    key={index}\n                                                                    value={index}\n                                                                > {index} </option>\n                                                            );\n                                                        })\n                                                    }\n                                                </select>\n                                            :\n                                                <select\n                                                    id={\"num\" + props.name + elem} \n                                                    placeholder=\"0\"\n                                                    disabled\n                                                >    \n                                                {\n                                                        createRange(elem).map((index) => {\n                                                            return(\n                                                                <option \n                                                                    key={index}\n                                                                    value={index}\n                                                                > {index} </option>\n                                                            );\n                                                        })\n                                                    }       \n                                                </select>                                \n                                            }\n                                        </div>\n                                        <div className={styles.win}>\n                                            <h5>Won?</h5>\n                                            {i === props.currentRound-1?\n                                                <input\n                                                    type=\"checkbox\" \n                                                    id={\"check\" + props.name + elem} \n                                                    onChange={(e) => addPoints(e.target.checked, \"num\" + props.name + elem)} \n                                                />\n                                            :\n                                                <input\n                                                    type=\"checkbox\" \n                                                    id={\"check\" + props.name + elem} \n                                                    onChange={(e) => addPoints(e.target.checked, \"num\" + props.name + elem)} \n                                                    disabled\n                                                />\n                                            }\n                                        </div>\n                                    </td>\n                                )\n                            })\n                        }\n                    </tr>\n                </tbody>\n            </table>\n        </>\n    )\n}\n\nexport default PlayerGame\n","// extracted by mini-css-extract-plugin\nexport var playerGame = \"playerGame-module--playerGame--RY64B\";\nexport var round = \"playerGame-module--round--V59cS\";\nexport var name = \"playerGame-module--name--Zfxw6\";\nexport var field = \"playerGame-module--field--I0w2A\";\nexport var win = \"playerGame-module--win--DAnBb\";\nexport var bet = \"playerGame-module--bet--9lgTg\";","import React from 'react'\nimport PlayerGame from '../playerGame/playerGame'\n\nconst Play = (props) => {\n\n    return(\n        <form>\n            {props.players.map((player,i) => {\n                return(\n                    <div key={player.key} id={'table'+i}>\n                        <PlayerGame name={player.name} rounds={props.rounds} currentRound={props.currentRound} />\n                    </div>\n                    \n                );\n            })}\n        </form>\n    );\n    \n}\n\nexport default Play\n","import React, { useState } from 'react'\nimport * as styles from './kingHero.module.scss'\nimport ChoosePlayers from '../choosePlayers/choosePlayers';\nimport Play from '../play/play';\n\nconst KingHero = () => {\n\n    const [start, setStart] = useState(false);\n    const [numPlayers, setNumPlayers] = useState(5);\n    const [players, setPlayers] = useState([]);\n    const [rounds, setRounds] = useState(0);\n    const [removeCards, setRemoveCards] = useState(0);\n    const [currentRound, setCurrentRound] = useState(1);\n\n    const deck = 40;\n    let playersTmp = [];\n\n    const decreasePlayers = () => {\n        if(numPlayers > 0){\n            setNumPlayers(numPlayers-1)\n        }\n        if(numPlayers <= 0){\n            alert(\"Mbare ocaca menu un cristiano nun si po fari\");\n        }\n    }\n\n    const increasePlayers = () => {\n        if(numPlayers < 10){\n            setNumPlayers(numPlayers+1)\n        }\n        if(numPlayers >= 10){\n            alert(\"Mbare quantu spacchiu siti\");\n        }\n    }\n\n    const decreaseCurrentRound = () => {\n        setCurrentRound(currentRound - 1);        \n    }\n\n    const increaseCurrentRound = () => {\n        setCurrentRound(currentRound + 1);\n    }\n\n    const getPlayers = () => {\n        let check = true;\n        for(let i = 0; i < numPlayers; i++ ){\n            let name = document.getElementById(\"player\"+i).value;\n            if(name === \"\") check = false;\n        }\n        \n        if(check){\n            for(let i = 0; i < numPlayers; i++ ){\n                let name = document.getElementById(\"player\"+i);\n                playersTmp.push(\n                    {\n                        id: i,\n                        key: i,\n                        name: name.value,\n                    }\n                );\n            }\n            setPlayers(playersTmp);\n            setStart(true);\n            setRounds(parseInt(deck/numPlayers));\n            setRemoveCards(deck % numPlayers);\n        }\n        \n    }\n\n    return (\n        <div className={styles.kingHero} id=\"/king\">\n            <h1>Let's play King</h1>\n\n            {\n                start ?\n                    null\n                :\n                <ChoosePlayers \n                    decreasePlayers={decreasePlayers}\n                    increasePlayers={increasePlayers}\n                    numPlayers={numPlayers}\n                    getPlayers={getPlayers}\n                />\n            }\n\n            {\n                rounds > 0 ? \n                    <h3>We are going to play {rounds} {rounds === 1 ? \"round\" : \"rounds\" }\n                    {\n                        removeCards > 0 ? \n                            ` and you have to remove ${removeCards} ${removeCards === 1 ? \"card\" : \"cards\" } from the deck`\n                        :\n                            null\n                    }\n                    </h3>\n                :\n                    <h3>Insert names to start</h3>\n            }\n\n            {\n                start ?\n                    <>\n                        <div className={styles.play}>\n                            <Play players={players} rounds={rounds} currentRound={currentRound} />\n                        </div> \n                        <div className={styles.changeRound}>\n                            {currentRound>1? \n                                <button onClick={decreaseCurrentRound}>\n                                    {`<-`}\n                                </button> \n                            : \n                                <button disabled>{`<-`}</button> \n                            }\n                            <p className={styles.roundText} >Round {currentRound}</p>\n                            {currentRound<rounds? \n                                <button onClick={increaseCurrentRound}>\n                                    {`->`}\n                                </button> \n                            :\n                                <button disabled>{`->`}</button> \n                            }\n                        </div>\n                    </>\n                    \n                :\n                    null\n            }\n        </div>\n    )\n}\n\nexport default KingHero\n","// extracted by mini-css-extract-plugin\nexport var kingHero = \"kingHero-module--kingHero--tqT75\";\nexport var play = \"kingHero-module--play--so5EE\";\nexport var changeRound = \"kingHero-module--changeRound--8SGxt\";\nexport var roundText = \"kingHero-module--roundText--AaZw3\";","import React, { useEffect /*, useState */} from \"react\";\nimport KingHero from \"../components/kingHero/kingHero\";\nimport Separator from \"../atoms/separator/separator\";\n\nimport * as styles from \"../styles/king.module.scss\";\nimport Layout from \"../components/layout/layout\";\nimport Seo from \"../components/seo/seo\";\n\nconst King = () => {\n  //const [isBlocking, setIsBlocking] = useState(true);\n  const isBlocking = false;\n\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", (e) => {\n      // Cancel the event\n      e.preventDefault(); // If you prevent default behavior in Mozilla Firefox prompt will always be shown\n      // Chrome requires returnValue to be set\n      e.returnValue = \"\";\n    });\n\n    return window.addEventListener(\"beforeunload\", (e) => {\n      // the absence of a returnValue property on the event will guarantee the browser unload happens\n      delete e[\"returnValue\"];\n    });\n  }, []);\n\n  return (\n    <Layout isBlocking={isBlocking}>\n      <Seo title={\"King\"} description={\"Let's play king!\"} />\n      <div className={styles.kingPage}>\n        {/*isBlocking ? (\n          <button className={styles.buttonBlocked} onClick={unBlock()}>\n            Click to allow exit\n          </button>\n        ) : (\n          <button className={styles.buttonUnblocked} onClick={block()}>\n            Click to block exit\n          </button>\n        )*/}\n        <p>\n          <strong>King</strong> is a very good <strong>card game</strong> mbare.\n          <br />\n          In this section you <strong>cannot</strong> play, it's a{\" \"}\n          <strong>scorer</strong>\n        </p>\n        <KingHero />\n        <Separator />\n      </div>\n    </Layout>\n  );\n};\n\nexport default King;\n","// extracted by mini-css-extract-plugin\nexport var kingPage = \"king-module--kingPage--Yl-xU\";\nexport var buttonAll = \"king-module--buttonAll--4iEdL\";\nexport var buttonUnblocked = \"king-module--buttonUnblocked--0NzZF\";\nexport var buttonBlocked = \"king-module--buttonBlocked--Gi28P\";\nexport var moving = \"king-module--moving--wnxIF\";"],"names":["props","i","players","useState","visible","setVisible","numPlayers","push","useEffect","bounding","document","getElementById","getBoundingClientRect","top","left","right","window","innerWidth","bottom","innerHeight","map","index","className","id","key","type","placeholder","onClick","decreasePlayers","increasePlayers","getPlayers","array","points","setPoints","rounds","addPoints","checked","idNum","value","disabled","createRange","end","name","elem","currentRound","onChange","e","target","player","start","setStart","setNumPlayers","setPlayers","setRounds","removeCards","setRemoveCards","setCurrentRound","playersTmp","alert","check","parseInt","addEventListener","preventDefault","returnValue","isBlocking","title","description"],"sourceRoot":""}