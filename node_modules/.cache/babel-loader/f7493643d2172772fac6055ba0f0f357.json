{"ast":null,"code":"// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from \"firebase/database\"; // TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGING_SENDER_ID,\n  appId: process.env.APP_ID,\n  measurementId: process.env.MEASUREMENT_ID,\n  databaseURL: process.env.DATABASE_URL\n}; // Initialize Firebase\n\nconst app = initializeApp(firebaseConfig); // Get a reference to the database service\n\nconst database = getDatabase(app);\n\nfunction writeUserData(userId, name, email, imageUrl) {\n  const db = getDatabase();\n  set(ref(db, 'users/' + userId), {\n    username: name,\n    email: email,\n    profile_picture: imageUrl\n  });\n}\n\nconst starCountRef = ref(db, 'posts/' + postId + '/starCount');\nonValue(starCountRef, snapshot => {\n  const data = snapshot.val();\n  updateStarCount(postElement, data);\n});\nexport default database;","map":{"version":3,"sources":["/home/mike/Developing/sbrikkisbooks_official_website/src/atoms/firebase.jsx"],"names":["initializeApp","getDatabase","ref","onValue","set","firebaseConfig","apiKey","process","env","API_KEY","authDomain","AUTH_DOMAIN","projectId","PROJECT_ID","storageBucket","STORAGE_BUCKET","messagingSenderId","MESSAGING_SENDER_ID","appId","APP_ID","measurementId","MEASUREMENT_ID","databaseURL","DATABASE_URL","app","database","writeUserData","userId","name","email","imageUrl","db","username","profile_picture","starCountRef","postId","snapshot","data","val","updateStarCount","postElement"],"mappings":"AAAA;AACA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,WAAT,EAAsBC,GAAtB,EAA2BC,OAA3B,EAAoCC,GAApC,QAA+C,mBAA/C,C,CACA;AACA;AAEA;AACA;;AACA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,OADC;AAErBC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYG,WAFH;AAGrBC,EAAAA,SAAS,EAAEL,OAAO,CAACC,GAAR,CAAYK,UAHF;AAIrBC,EAAAA,aAAa,EAAEP,OAAO,CAACC,GAAR,CAAYO,cAJN;AAKrBC,EAAAA,iBAAiB,EAAET,OAAO,CAACC,GAAR,CAAYS,mBALV;AAMrBC,EAAAA,KAAK,EAAEX,OAAO,CAACC,GAAR,CAAYW,MANE;AAOrBC,EAAAA,aAAa,EAAEb,OAAO,CAACC,GAAR,CAAYa,cAPN;AAQrBC,EAAAA,WAAW,EAAEf,OAAO,CAACC,GAAR,CAAYe;AARJ,CAAvB,C,CAWA;;AACA,MAAMC,GAAG,GAAGxB,aAAa,CAACK,cAAD,CAAzB,C,CAEA;;AACA,MAAMoB,QAAQ,GAAGxB,WAAW,CAACuB,GAAD,CAA5B;;AAGA,SAASE,aAAT,CAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,KAArC,EAA4CC,QAA5C,EAAsD;AACpD,QAAMC,EAAE,GAAG9B,WAAW,EAAtB;AACAG,EAAAA,GAAG,CAACF,GAAG,CAAC6B,EAAD,EAAK,WAAWJ,MAAhB,CAAJ,EAA6B;AAC9BK,IAAAA,QAAQ,EAAEJ,IADoB;AAE9BC,IAAAA,KAAK,EAAEA,KAFuB;AAG9BI,IAAAA,eAAe,EAAGH;AAHY,GAA7B,CAAH;AAKD;;AAED,MAAMI,YAAY,GAAGhC,GAAG,CAAC6B,EAAD,EAAK,WAAWI,MAAX,GAAoB,YAAzB,CAAxB;AACAhC,OAAO,CAAC+B,YAAD,EAAgBE,QAAD,IAAc;AAClC,QAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACAC,EAAAA,eAAe,CAACC,WAAD,EAAcH,IAAd,CAAf;AACD,CAHM,CAAP;AAKA,eAAeZ,QAAf","sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from \"firebase/database\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGING_SENDER_ID,\n  appId: process.env.APP_ID,\n  measurementId: process.env.MEASUREMENT_ID,\n  databaseURL: process.env.DATABASE_URL\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Get a reference to the database service\nconst database = getDatabase(app);\n\n\nfunction writeUserData(userId, name, email, imageUrl) {\n  const db = getDatabase();\n  set(ref(db, 'users/' + userId), {\n    username: name,\n    email: email,\n    profile_picture : imageUrl\n  });\n}\n\nconst starCountRef = ref(db, 'posts/' + postId + '/starCount');\nonValue(starCountRef, (snapshot) => {\n  const data = snapshot.val();\n  updateStarCount(postElement, data);\n});\n\nexport default database;"]},"metadata":{},"sourceType":"module"}